% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotting.R
\name{plot_profile_stairs}
\alias{plot_profile_stairs}
\title{Stair-step soil moisture profile (theta vs depth)}
\usage{
plot_profile_stairs(
  theta,
  depths,
  col = "black",
  lwd = 2,
  add = FALSE,
  xlim = c(0, 0.4),
  dz = NULL,
  border = NA,
  alpha = 0.15,
  style = c("rect", "segments"),
  xlab = expression(theta),
  ylab = "Depth (m)",
  ...
)
}
\arguments{
\item{theta}{Numeric vector of volumetric water content per layer
(m^3 m^-3). Length must equal `length(depths)`.}

\item{depths}{Numeric vector of layer centers (m), topmost near 0.}

\item{col}{Color for profile drawing. Default `"black"`.}

\item{lwd}{Line width for outlines/spines. Default `2`.}

\item{add}{Logical; if `TRUE`, add to existing plot. Default `FALSE`.}

\item{xlim}{Numeric length-2; x-axis limits for \eqn{\theta}. Default `c(0, 0.40)`.}

\item{dz}{Optional numeric vector of layer thicknesses (m); if `NULL`,
the function infers boundaries from `depths`.}

\item{border}{Rectangle border color when `style="rect"`. Default `NA`.}

\item{alpha}{Fill transparency (0–1) for `style="rect"`. Use `NA` to disable
transparency (i.e., solid `col`). Default `0.15`.}

\item{style}{Either `"rect"` (filled bars + spine) or `"segments"`
(classic stair outline). Default `"rect"`.}

\item{xlab, ylab}{Axis labels. Defaults to expression(theta) and `"Depth (m)"`.}

\item{...}{Further graphical arguments passed to `plot()` when `add=FALSE`.}
}
\value{
Invisibly returns a list with two numeric vectors:
  \item{top}{Layer top depths (m).}
  \item{bottom}{Layer bottom depths (m).}
}
\description{
Draws a layer-wise “stair” profile of volumetric water content \eqn{\theta}
versus depth, using either filled rectangles or classic segment outlines.
If layer thicknesses (`dz`) are not provided, top/bottom boundaries are
inferred from layer centers (`depths`) via midpoints.
}
\details{
If `dz` is missing, the function constructs layer top/bottom boundaries
by taking midpoints between adjacent `depths`; the domain is clamped to
start at 0 m depth for the top layer. When `dz` is supplied, boundaries are
simply `depths ± dz/2`.
}
\examples{
# Three layers in the top 30 cm
depths <- c(0.05, 0.15, 0.25)
dz     <- rep(0.10, 3)
theta_t0 <- c(0.26, 0.24, 0.22)
theta_t1 <- c(0.23, 0.215, 0.205)

# Segments style: t1 baseline (black) with t0 overlay (blue)
plot_profile_stairs(theta_t1, depths, dz = dz,
                    style = "segments", xlim = c(0.18, 0.30),
                    main = "Stair profile — t1 vs t0")
plot_profile_stairs(theta_t0, depths, dz = dz, style = "segments",
                    add = TRUE, col = "blue")

# Rectangles with transparency
plot_profile_stairs(theta_t0, depths, dz = dz,
                    style = "rect", col = "blue", alpha = 0.25,
                    xlim = c(0.18, 0.30), main = "Rectangular fill")
plot_profile_stairs(theta_t1, depths, dz = dz,
                    style = "segments", add = TRUE, col = "black")

}
\seealso{
[plot_daily_profiles()] for automated day-by-day overlays with titles.
}
